<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Hamburger Menu</title>
    <link rel="stylesheet" href="/css/debug-hamburger.css">
</head>
<body>
    <header class="header">
        <h1>Debug Hamburger Menu</h1>
        
        <nav class="dashboard-nav" id="nav">
            <a href="#" class="dashboard-nav-link">Dashboard</a>
            <a href="#" class="dashboard-nav-link">Appointments</a>
            <a href="#" class="dashboard-nav-link">Patients</a>
            <a href="#" class="dashboard-nav-link">Billing</a>
        </nav>
        
        <button class="dashboard-mobile-menu-btn" onclick="toggleMobileMenu()">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 256 256">
                <path d="M224,128a8,8,0,0,1-8,8H40a8,8,0,0,1,0-16H216A8,8,0,0,1,224,128ZM40,72H216a8,8,0,0,0,0-16H40a8,8,0,0,0,0,16ZM216,184H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"></path>
            </svg>
        </button>
    </header>

    <div class="dashboard-mobile-overlay" id="mobileOverlay" onclick="toggleMobileMenu()"></div>

    <main class="debug-main">
        <div class="debug-info">
            <h3>Debug Information:</h3>
            <p>Screen width: <span id="width-display"></span>px</p>
            <p>Hamburger button visible: <span id="button-visible"></span></p>
            <p>Navigation visible: <span id="nav-visible"></span></p>
            <p>Menu state: <span id="menu-state"></span></p>
        </div>

        <h2>Test Instructions:</h2>
        <ol>
            <li>Resize browser to mobile width (below 768px)</li>
            <li>Hamburger button should appear</li>
            <li>Click hamburger to open menu</li>
            <li>Click overlay or links to close</li>
        </ol>

        <button onclick="testFunction()" class="debug-test-btn">Test JavaScript</button>
        <div id="test-output"></div>
    </main>

    <script>
        function testFunction() {
            document.getElementById('test-output').innerHTML = 'JavaScript is working! Time: ' + new Date().toLocaleTimeString();
        }
        
        function toggleMobileMenu() {
            try {
                const nav = document.getElementById('nav');
                const overlay = document.getElementById('mobileOverlay');
                const body = document.body;
                
                console.log('Toggle clicked', { nav, overlay });
                
                if (nav && overlay) {
                    nav.classList.toggle('mobile-open');
                    overlay.classList.toggle('active');
                    body.classList.toggle('mobile-menu-open');
                    console.log('Menu toggled successfully');
                    
                    updateDebugInfo();
                } else {
                    console.error('Elements not found', { nav, overlay });
                }
            } catch (error) {
                console.error('Error in toggle function:', error);
            }
        }

        function updateDebugInfo() {
            const nav = document.getElementById('nav');
            const button = document.querySelector('.dashboard-mobile-menu-btn');
            
            document.getElementById('width-display').textContent = window.innerWidth;
            document.getElementById('button-visible').textContent = window.getComputedStyle(button).display;
            document.getElementById('nav-visible').textContent = window.getComputedStyle(nav).display;
            document.getElementById('menu-state').textContent = nav.classList.contains('mobile-open') ? 'OPEN' : 'CLOSED';
        }

        // Update debug info on load and resize
        window.addEventListener('resize', updateDebugInfo);
        window.addEventListener('load', updateDebugInfo);
        updateDebugInfo();

        // Close menu when clicking nav links
        document.addEventListener('DOMContentLoaded', function() {
            const navLinks = document.querySelectorAll('.dashboard-nav-link');
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const nav = document.getElementById('nav');
                    const overlay = document.getElementById('mobileOverlay');
                    const body = document.body;
                    
                    if (nav && overlay && nav.classList.contains('mobile-open')) {
                        nav.classList.remove('mobile-open');
                        overlay.classList.remove('active');
                        body.classList.remove('mobile-menu-open');
                        updateDebugInfo();
                    }
                });
            });
        });
    </script>
</body>
</html> 